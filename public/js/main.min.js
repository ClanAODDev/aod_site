"use strict";var ClanAOD=ClanAOD||{};!function(t){ClanAOD={setup:function(){this.addDynamicLinks(),this.stickyNav(),this.handleModals(),this.initAutoMenu(),this.handleApplicationLinks()},addDynamicLinks:function(){var e=AOD.path+"/public/images/",n='<li class="home"><a href="/" class="text-link">Home</a><img src="'+e+'aod_new.png" onclick="window.location.replace(\'/\')"/></li>',o='<li><a data-apply-button href="#">Apply</a>';t(".primary-nav ul").prepend(n).append(o),t(".social-media-sites li").click(function(){var e=t(this).attr("data-link");e&&window.open(e)})},smoothScroll:function(){t(".smooth-scroll").click(function(e){e.preventDefault();var n=t(this).attr("href"),o=t(n).offset().top-90;t("html, body").stop().animate({scrollTop:o},1500)})},handleApplicationLinks:function(){t("*[data-application-link]").click(function(e){e.preventDefault(),console.log("Application link clicked.");var n=t(this).data("application-id")?t(this).data("application-id"):t(".division").data("application-id"),o="http://www.clanaod.net/forums/forms.php?do=form&fid=";void 0!=n&&(window.location=o+n)})},initAutoMenu:function(){t("#sub-nav").length&&ClanAOD.handleAutoMenu("sub-nav","h2")},stickyNav:function(){var e=700;t(window).bind("scroll",function(){t(".stay-fixed").length>0?t(".stay-fixed").find(".home").addClass("show-logo"):t(window).scrollTop()>e?t(".primary-nav").addClass("fixed").find(".home").addClass("show-logo"):t(".primary-nav").removeClass("fixed").find(".home").removeClass("show-logo")})},handleModals:function(){t(".intro-video").easyModal({overlayOpacity:.75,overlayColor:"#000",autoOpen:!1,onClose:function(){document.getElementById("video-iframe").contentWindow.postMessage(ClanAOD.postYTMessage("stop"),"*")},onOpen:function(){document.getElementById("video-iframe").contentWindow.postMessage(ClanAOD.postYTMessage("start"),"*")}}),t(".play-button").click(function(e){t(".intro-video").trigger("openModal"),e.preventDefault()}),t(".close-video").click(function(){t(".intro-video").trigger("closeModal")}),t(".apply-form").easyModal({overlayOpacity:.75}),t("*[data-apply-button]").click(function(e){t(".apply-form").trigger("openModal"),e.preventDefault()})},postYTMessage:function(t){switch(t){case"start":return'{"event":"command","func":"playVideo","args":""}';case"stop":return'{"event":"command","func":"stopVideo","args":""}'}},handleAutoMenu:function(e,n){var o=document.getElementById(e),a=t(".automenu h2");if(a.length>=1){for(var i=document.createElement("UL"),l=0;l<a.length;l++){var s="";a[l].id?s=a[l].id:(s="section_"+l,a[l].setAttribute("id",s));var d=a[l].firstChild.nodeValue;a[l].firstChild.nodeValue=d;var c=document.createElement("A");c.setAttribute("href","#"+s),c.setAttribute("class","smooth-scroll"),c.appendChild(document.createTextNode(d));var r=document.createElement("LI");r.appendChild(c),i.appendChild(r)}for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(i)}}}}(jQuery),ClanAOD.setup(),ClanAOD.smoothScroll();